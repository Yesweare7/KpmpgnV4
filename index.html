<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>KPMPNGN</title>

  <!-- PWA ESSENTIALS -->
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#000000" />

  <!-- iOS Support -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css" />

  <!-- REGISTER SERVICE WORKER -->
  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker
          .register("/sw.js")
          .then(() => console.log("SW Registered"))
          .catch((err) => console.error("SW FAILED:", err));
      });
    }
  </script>
</head>

<body>

  <!-- *************************************** -->
  <!-- LOGIN OVERLAY -->
  <!-- *************************************** -->
  <div id="loginOverlay" class="overlay">
    <div class="auth-card">
      <img src="icons/icon-192.png" class="auth-logo" alt="KPMPNGN Logo" />
      <h2>Welcome to KPMPNGN</h2>

      <!-- LOGIN FORM -->
      <form id="loginForm" class="auth-form">
        <input type="text" id="loginUser" placeholder="Username" required minlength="3" />
        <input type="password" id="loginPass" placeholder="Password" required minlength="3" />
        <button type="submit" class="primary">Login</button>
      </form>

      <p class="muted">
        No account?
        <a href="#" id="showRegister">Register</a>
      </p>

      <!-- REGISTER FORM -->
      <form id="registerForm" class="auth-form hidden">
        <input type="text" id="regUser" placeholder="Pick a username" required minlength="3" />
        <input type="password" id="regPass" placeholder="Pick a password" required minlength="3" />
        <button id="registerBtn" class="primary">Create Account</button>
      </form>

    </div>
  </div>

  <!-- *************************************** -->
  <!-- MAIN APP SHELL -->
  <!-- *************************************** -->

  <div class="phone-shell app-hidden">

    <!-- HEADER -->
    <header class="app-header">
      <div class="header-left">
        <button id="menuBtn" class="menu-btn">☰</button>
      </div>

      <div class="header-title">
        <h1>KPMPNGN</h1>
        <p class="subtitle">Kapampangan Cultural App</p>
      </div>

      <div class="header-right">
        <button id="installBtn" class="install-btn" style="display:none;">⬇</button>
      </div>
    </header>

    <!-- MAIN CONTENT -->
    <main id="mainContent">

      <!-- HOME SECTION -->
      <section id="home" class="page active">
        <h2>Latest News</h2>
        <div id="news-list" class="card-grid"></div>
      </section>

      <!-- LGU SECTION -->
      <section id="lgus" class="page">
        <h2>Municipalities & LGUs</h2>
        <div id="lgus-list" class="list-grid"></div>
      </section>

      <!-- FOOD SECTION -->
      <section id="food" class="page">
        <h2>Food & Restaurants</h2>
        <div id="food-list" class="card-grid"></div>
      </section>

      <!-- LODGING SECTION -->
      <section id="lodging" class="page">
        <h2>Lodging & Stay</h2>
        <div id="lodging-list" class="card-grid"></div>
      </section>

      <!-- ROUTES SECTION -->
      <section id="routes" class="page">
        <h2>Routes & Transport</h2>
        <div id="routes-list" class="card-grid"></div>
      </section>

      <!-- ATTRACTIONS SECTION -->
      <section id="attractions" class="page">
        <h2>Attractions</h2>
        <div id="attractions-list" class="card-grid"></div>
      </section>

    </main>

    <!-- *************************************** -->
    <!-- BOTTOM NAVIGATION -->
    <!-- *************************************** -->
    <nav class="bottom-nav">
      <button class="nav-btn active" data-target="home">Home</button>
      <button class="nav-btn" data-target="lgus">LGUs</button>
      <button class="nav-btn" data-target="food">Food</button>
      <button class="nav-btn" data-target="routes">Routes</button>
      <button class="nav-btn" data-target="attractions">Attractions</button>
    </nav>

  </div>

  <!-- *************************************** -->
  <!-- DETAIL MODAL -->
  <!-- *************************************** -->
  <div id="detailModal" class="modal hidden">
    <div class="modal-inner">
      <button id="closeDetail" class="modal-close">✖</button>
      <div id="detailContent"></div>
    </div>
  </div>

  <!-- *************************************** -->
  <!-- JAVASCRIPT FILES -->
  <!-- *************************************** -->
  <script src="data.js"></script>
  <script src="script.js"></script>

</body>
</html>
